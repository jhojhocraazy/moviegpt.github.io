<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Recomendação de Filmes</title>
  </head>
  <body>
    <h1>Recomendação de Filmes</h1>
    <p>Quais os 5 últimos filmes que você assistiu?</p>
    <input type="text" id="last_movies">
    <button onclick="getRecommendation()">Obter recomendação</button>
    <br>
    <br>
    <p id="recommendation"></p>

    <script src="https://cdn.jsdelivr.net/npm/@openai/api@0.4.4/dist/openai-api.min.js"></script>
    <script>
      const OPENAI_API_KEY = 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; // Substitua por sua chave de API do OpenAI
      
      function getRecommendation() {
        const lastMovies = document.getElementById("last_movies").value;

        if (lastMovies === "") {
          alert("Por favor, informe os últimos filmes que você assistiu.");
          return;
        }

        const prompt = "Recomende um filme baseado nos últimos filmes que assisti: " + lastMovies;
        const completions = 1;
        const model = "text-davinci-002";
        const apiKey = OPENAI_API_KEY;
        
        const openai = new OpenAI(apiKey);
        openai.complete(model, prompt, completions)
          .then(response => {
            const recommendation = response.data.choices[0].text;
            document.getElementById("recommendation").innerHTML = recommendation;
          })
          .catch(error => {
            console.error(error);
          });
      }
    </script>
  </body>
</html>
